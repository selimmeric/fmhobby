/********************************************************************
此程序 为16*16 并口点阵左移程序   （是我上大学时写的  即供参考）
诗句为  海阔凭鱼跃，天高任鸟飞。
这里用P1口输出字的上半部分 P3口输出字的下半部分  用P2口控制芯片74HC154 扫描 
**********************************************************************/


#include <reg52.h>


unsigned char code shang[]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x10,0x22,0x64,0x0C,0x90,0x08,0xF7,0x14,0x34,0x54,0x14,0x14,0xF6,0x04,0x00,0x00,
0x00,0xFC,0x40,0x89,0x12,0x86,0x90,0x92,0xF2,0x8A,0xCA,0x82,0x02,0xFF,0x02,0x00,
0x40,0x20,0x10,0xFC,0x03,0x10,0x92,0x92,0x92,0xFE,0x91,0xD1,0x98,0x10,0x00,0x00,
0x40,0x20,0xF0,0x28,0x24,0x27,0x24,0xE4,0x34,0x2C,0x24,0x20,0xF0,0x20,0x00,0x00,
0x00,0x3E,0x22,0xE2,0x22,0x3E,0x84,0x84,0x84,0xFC,0x84,0x82,0x83,0xC2,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x40,0x42,0x42,0x42,0x42,0x42,0x42,0xFE,0x42,0x42,0x42,0x42,0x43,0x62,0x40,0x00,
0x04,0x04,0x04,0xF4,0x94,0x94,0x95,0x96,0x94,0x94,0x94,0xF4,0x04,0x06,0x04,0x00,
0x80,0x40,0x20,0xF8,0x87,0x80,0x84,0x84,0x84,0xFC,0x84,0x82,0x82,0xC0,0x80,0x00,
0x00,0x00,0x00,0xFC,0x04,0x16,0x65,0x04,0x84,0x04,0xFE,0x04,0x00,0x00,0x00,0x00,
0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0xFF,0xA2,0x10,0x18,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

};
unsigned char  code xia[]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x04,0x04,0xFE,0x01,0x01,0x1F,0x11,0x11,0x13,0x15,0x51,0x91,0x7F,0x11,0x01,0x00,
0x00,0xFF,0x08,0x7C,0x02,0x00,0x7C,0x24,0x27,0x24,0x3E,0x44,0x80,0x7F,0x00,0x00,
0x00,0x00,0x80,0x81,0x40,0x3E,0x02,0x02,0x02,0x02,0x3F,0x42,0x40,0x40,0x70,0x00,
0x40,0x40,0x5F,0x49,0x49,0x49,0x49,0x4F,0x49,0x49,0x49,0x49,0x5F,0x60,0x40,0x00,
0x20,0x7F,0x20,0x3F,0x91,0x51,0x20,0x18,0x06,0x01,0x06,0x18,0x60,0xC0,0x40,0x00,
0x00,0x00,0x00,0x46,0x2F,0x1F,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x80,0x80,0x40,0x20,0x10,0x0C,0x03,0x00,0x03,0x0C,0x10,0x20,0x40,0xC0,0x40,0x00,
0x00,0xFE,0x02,0x02,0x7A,0x4A,0x4A,0x4A,0x4A,0x4A,0x7A,0x02,0x82,0xFF,0x02,0x00,
0x00,0x00,0x00,0xFF,0x00,0x20,0x20,0x20,0x20,0x3F,0x20,0x20,0x30,0x20,0x00,0x00,
0x10,0x10,0x10,0x13,0x12,0x12,0x12,0x12,0x12,0x13,0x5A,0x92,0x42,0x3F,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x30,0x41,0x83,0x60,0x00,
0x00,0x38,0x7C,0x44,0x44,0x7C,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

};
unsigned char  code sm[]={0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,};


/*****************************************************************************
                         延时子程序															
******************************************************************************/
void delay(unsigned int count)
     {     
      unsigned int i,j;
      for(i=0;i<count;i++)
         for(j=0;j<50;j++)
          ;
      }



/*****************************************************************************
                             主程序				
******************************************************************************/

main()
{unsigned int j,k,i;
 while(1) {
   for(j=0;j<208;j++)              /*每增加一个字，J的值要再+16*/
          { for(k=0;k<5;k++)       /*k 主要起到字的延时效果*/
              for(i=0;i<16;i++)

                 { P1=shang[j+i];      //字的上半部分
                    P3=xia[j+i];       //字的下半部分
                    P2=sm[i];          //扫描
                   delay(3);
                  }
                      if(16==i)
                        i=0;
                   
       }    
	     
   }
 }

